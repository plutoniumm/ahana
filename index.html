<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ahana</title>

    <meta name="title" content="Ahana">
    <meta name="description"
        content="A simple ray optics simulator for basic lenses, prisms, and blocks with dispersion effects.">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="author" content="plutoniumm">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Ahana">
    <meta property="og:description"
        content="A ray optics simulator for basic lenses, prisms, and blocks with dispersion effects.">

    <!-- analytics on plutoniumm.github.io -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "6dd90a981e8b47dd9725e27e28491525"}'></script>

  <script type="module" crossorigin src="/ahana/assets/index-DpsJU3cb.js"></script>
  <link rel="stylesheet" crossorigin href="/ahana/assets/index-CEvS0o0H.css">
</head>

<body>
    <div id="ui-layer">
        <details class="panel" open>
            <summary class="h2">
                Controls
            </summary>

            <h3>Source</h3>

            <div class="control-row">
                <span>Beam Spread</span>
                <input type="range" id="spreadSlider" min="0" max="180" step="1" value="0">
                <span class="val-display" id="spreadVal">0°</span>
            </div>
            <div class="control-row">
                <span>Ray Density</span>
                <input type="range" id="rayCountSlider" min="10" max="300" step="10" value="100">
                <span class="val-display" id="rayVal">100</span>
            </div>
            <div class="control-row">
                <span>Source Angle</span>
                <input type="range" id="angleSlider" min="-180" max="180" step="1" value="0">
                <span class="val-display" id="angleVal">0°</span>
            </div>

            <h3>Blocks</h3>
            <div class="btn-group">
                <button onclick="addPrism()">
                    <img src="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='34%2034%20440%20440'%3e%3cpolygon%20fill='none'%20stroke='%23fff'%20stroke-width='3'%20points='%20180%20340%20260%20180%20340%20340'/%3e%3cline%20x1='40'%20x2='220'%20y1='256'%20y2='256'%20stroke='%23fff'%20stroke-width='3'/%3e%3cline%20x1='300'%20x2='470'%20y1='256'%20y2='200'%20stroke='red'%20stroke-width='3'/%3e%3cline%20x1='300'%20x2='470'%20y1='256'%20y2='230'%20stroke='orange'%20stroke-width='3'/%3e%3cline%20x1='300'%20x2='470'%20y1='256'%20y2='256'%20stroke='%23ff0'%20stroke-width='3'/%3e%3cline%20x1='300'%20x2='470'%20y1='256'%20y2='282'%20stroke='green'%20stroke-width='3'/%3e%3cline%20x1='300'%20x2='470'%20y1='256'%20y2='312'%20stroke='%2300f'%20stroke-width='3'/%3e%3c/svg%3e" alt="Prism" title="Add Prism">
                </button>
                <button onclick="addBlock()">
                    <img src="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='34%2034%20440%20440'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='200'%20y='180'%20width='112'%20height='152'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3cpolyline%20points='40,256%20200,256%20312,276%20470,276'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3c/svg%3e" alt="Block" title="Add Block">
                </button>
                <button onclick="addLens('converging')">
                    <img src="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='34%2034%20440%20440'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(0,%20128)'%3e%3cline%20x1='20'%20y1='80'%20x2='240'%20y2='80'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='20'%20y1='128'%20x2='230'%20y2='128'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='20'%20y1='176'%20x2='240'%20y2='176'%20stroke='white'%20stroke-width='3'/%3e%3c!--%20lens%20--%3e%3cpath%20d='M252%2038C225%20124%20225%20128%20252%20218'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3cpath%20d='M260%2038C289%20126%20289%20128%20260%20218'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3c!--%20converging%20rays%20--%3e%3cline%20x1='272'%20y1='80'%20x2='480'%20y2='40'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='282'%20y1='128'%20x2='480'%20y2='128'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='272'%20y1='176'%20x2='480'%20y2='216'%20stroke='white'%20stroke-width='3'/%3e%3c/g%3e%3c/svg%3e" alt="Converging Lens" title="Add Converging Lens">
                </button>
                <button onclick="addLens('diverging')">
                    <img src="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='34%2034%20440%20440'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(0,%20128)'%3e%3cline%20x1='20'%20y1='80'%20x2='240'%20y2='80'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='20'%20y1='128'%20x2='250'%20y2='128'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='20'%20y1='176'%20x2='240'%20y2='176'%20stroke='white'%20stroke-width='3'/%3e%3c!--%20lens%20--%3e%3cg%20transform='translate(30,%200)'%3e%3cpath%20d='M252%2038C225%20124%20225%20128%20252%20218'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3c/g%3e%3cg%20transform='translate(-30,%200)'%3e%3cpath%20d='M260%2038C289%20126%20289%20128%20260%20218'%20fill='none'%20stroke='white'%20stroke-width='3'/%3e%3c/g%3e%3c!--%20converging%20rays%20--%3e%3cline%20x1='272'%20y1='80'%20x2='480'%20y2='40'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='262'%20y1='128'%20x2='480'%20y2='128'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='272'%20y1='176'%20x2='480'%20y2='216'%20stroke='white'%20stroke-width='3'/%3e%3c/g%3e%3c/svg%3e" alt="Diverging Lens" title="Add Diverging Lens">
                </button>
            </div>

            <h3>Presets</h3>
            <div class="btn-group">
                <button onclick="runReconvergence()">Reconvergence Demo</button>
                <button onclick="runPinkFloyd()">Pink Floyd Demo</button>
            </div>
            <button class="danger" onclick="clearScene()" style="width:100%">Clear</button>
        </details>

        <div class="panel" id="selectionPanel" style="position:absolute; left:20px; top:20px;">
            <h2>Selected Object</h2>

            <div class="control-row">
                <span>Rotation</span>
                <input type="range" id="objRotation" min="-180" max="180" step="1">
                <span class="val-display" id="objRotVal">0°</span>
            </div>

            <div class="control-row">
                <span>Refractive Index</span>
                <input type="range" id="objIOR" min="1.0" max="2.5" step="0.01">
                <span class="val-display" id="objIORVal">1.5</span>
            </div>

            <div id="lensControls" style="display:none">
                <div class="control-row">
                    <span>Curvature</span>
                    <input type="range" id="objCurve" min="0.001" max="0.02" step="0.001">
                </div>
            </div>

            <button class="danger" onclick="deleteSelected()" style="width:100%; margin-top:5px;">Delete Object</button>
        </div>
    </div>

    <canvas id="simCanvas"></canvas>
</body>

</html>